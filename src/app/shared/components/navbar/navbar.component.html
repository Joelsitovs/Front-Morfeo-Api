<nav
  class="fixed top-0 left-0 w-full z-50 backdrop-blur-md sm:backdrop-blur-lg
         text-black
       dark:text-white
         border-b border-gray-300 transition-colors duration-300"
>
  <div
    class="w-full mx-auto px-4 sm:px-6 lg:px-8 "
  >
    <div class="flex justify-between h-16 items-center">
      <div class="flex items-center justify-center">
        <a
          routerLink="/"
          class="dark:text-red-500 hover:scale-105 transition ease-in-out"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="123 412.86 170 198 "
               class="h-[3rem] z-20"
          >
            <path
              d=" M 123.5 460.71 L 208 413.43 L 292.5 460.71 L 292.5 562.29 L 208 610.58 L 123.5 562.29 L 123.5 460.71 Z  M 132.5 466 L 208 424 L 283 465.3 L 283 557.7 L 208.02 599 L 132 558.3 L 132.5 466 Z "
              fill-rule="evenodd" fill="currentColor" />
            <path
              d=" M 135.97 464.01 L 208 423.43 L 283.5 464.7 L 283.5 509.29 L 208 552.58 L 172.5 532.29 L 172.5 509.29 L 172.5 532.29 L 208.02 552.58 L 283.5 509.29 L 283.5 519.15 L 283.5 558.3 L 208 599.57 L 131.5 558.3 L 128 464.08 L 135.97 464.01 L 207.98 503.57 L 234.98 488.01 L 208.02 471.42 L 193 479.43 L 208.02 471.42 L 234.98 488.01 L 208.01 503.57 L 135.97 464.01 Z  M 138.03 463.99 L 208 424.57 L 282.5 465.3 L 282.5 508.71 L 208 551.42 L 173.5 531.71 L 173.5 508.71 L 163.5 503.15 L 163.5 538.3 L 208 562.57 L 282.5 520.85 L 282.5 557.7 L 208 598.43 L 132.5 557.7 L 132.5 471.85 L 208.01 513.57 L 251.98 488.01 L 208.01 461.42 L 182.96 474.99 L 193 480.57 L 207.98 472.58 L 233.02 487.99 L 207.99 502.43 L 138.03 463.99 Z "
              fill-rule="evenodd" fill="currentColor" />
            <path
              d=" M 271.5 472.71 L 271.5 502.29 L 233.5 523.86 L 233.5 512.7 L 262.5 496.7 L 262.5 478.3 L 208 448.57 L 167.94 469.6 L 161.12 463.92 L 208 437.43 L 271.5 472.71 Z  M 207.98 447.43 L 263.5 477.7 L 263.5 497.3 L 234.5 513.3 L 263.5 497.3 L 263.5 477.7 L 208 447.43 L 168.06 468.4 L 162.88 464.08 L 168.06 468.4 L 207.98 447.43 Z "
              fill-rule="evenodd" fill="currentColor" />
            <path
              d=" M 208 526.44 L 222.5 519.19 L 222.5 530.29 L 208.01 538.57 L 184.5 526.3 L 184.5 515.21 L 208 526.44 Z  M 208.02 527.56 L 221.5 520.81 L 208.02 527.56 L 222.5 520 L 207.98 527.56 L 185.5 516.79 L 208.02 527.56 Z "
              fill-rule="evenodd" fill="currentColor" />
            <path
              d=" M 143.5 493.23 L 153.5 497.68 L 153.5 544.7 L 208 574.43 L 271.5 540.16 L 271.5 550.29 L 208 585.57 L 143.5 550.3 L 143.5 493.23 Z  M 152.5 545.3 L 152.5 498.32 L 152.5 545.3 L 208 575.57 L 270.5 541.84 L 270.5 549.71 L 270.5 541.84 L 208.02 575.57 L 152.5 545.3 Z "
              fill-rule="evenodd" fill="currentColor" />

            <path
              d=" M 123.5 460.71 L 208 413.43 L 292.5 460.71 L 292.5 562.29 L 208 610.58 L 123.5 562.29 L 123.5 460.71 Z  M 132.5 466 L 208 424 L 283 465.3 L 283 557.7 L 208.02 599 L 132 558.3 L 132.5 466 Z "
              fill-rule="evenodd" fill="currentColor" />
            <path
              d=" M 135.97 464.01 L 208 423.43 L 283.5 464.7 L 283.5 509.29 L 208 552.58 L 172.5 532.29 L 172.5 509.29 L 172.5 532.29 L 208.02 552.58 L 283.5 509.29 L 283.5 519.15 L 283.5 558.3 L 208 599.57 L 131.5 558.3 L 128 464.08 L 135.97 464.01 L 207.98 503.57 L 234.98 488.01 L 208.02 471.42 L 193 479.43 L 208.02 471.42 L 234.98 488.01 L 208.01 503.57 L 135.97 464.01 Z  M 138.03 463.99 L 208 424.57 L 282.5 465.3 L 282.5 508.71 L 208 551.42 L 173.5 531.71 L 173.5 508.71 L 163.5 503.15 L 163.5 538.3 L 208 562.57 L 282.5 520.85 L 282.5 557.7 L 208 598.43 L 132.5 557.7 L 132.5 471.85 L 208.01 513.57 L 251.98 488.01 L 208.01 461.42 L 182.96 474.99 L 193 480.57 L 207.98 472.58 L 233.02 487.99 L 207.99 502.43 L 138.03 463.99 Z "
              fill-rule="evenodd" fill="currentColor" />
            <path
              d=" M 271.5 472.71 L 271.5 502.29 L 233.5 523.86 L 233.5 512.7 L 262.5 496.7 L 262.5 478.3 L 208 448.57 L 167.94 469.6 L 161.12 463.92 L 208 437.43 L 271.5 472.71 Z  M 207.98 447.43 L 263.5 477.7 L 263.5 497.3 L 234.5 513.3 L 263.5 497.3 L 263.5 477.7 L 208 447.43 L 168.06 468.4 L 162.88 464.08 L 168.06 468.4 L 207.98 447.43 Z "
              fill-rule="evenodd" fill="currentColor " />
            <path
              d=" M 208 526.44 L 222.5 519.19 L 222.5 530.29 L 208.01 538.57 L 184.5 526.3 L 184.5 515.21 L 208 526.44 Z  M 208.02 527.56 L 221.5 520.81 L 208.02 527.56 L 222.5 520 L 207.98 527.56 L 185.5 516.79 L 208.02 527.56 Z "
              fill-rule="evenodd" fill="currentColor" />

            <path
              d=" M 143.5 493.23 L 153.5 497.68 L 153.5 544.7 L 208 574.43 L 271.5 540.16 L 271.5 550.29 L 208 585.57 L 143.5 550.3 L 143.5 493.23 Z  M 152.5 545.3 L 152.5 498.32 L 152.5 545.3 L 208 575.57 L 270.5 541.84 L 270.5 549.71 L 270.5 541.84 L 208.02 575.57 L 152.5 545.3 Z "
              fill-rule="evenodd" fill="currentColor" />

          </svg>
        </a>
        <div class="sm:hidden ml-4 items-center justify-center gap-2 mt-1 hover:cursor-pointer ">
          <button (click)="toggleMobileMenu()" aria-label="Abrir menú móvil">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="lucide lucide-align-justify-icon lucide-align-justify">
              <path d="M3 12h18" />
              <path d="M3 18h18" />
              <path d="M3 6h18" />
            </svg>
          </button>

        </div>
        <div class="hidden sm:flex sm:ml-10 gap-2 ">
          <!--[fragment]="'Inicio'-->
          <a
            [routerLink]="['/']"
            routerLinkActive="active"
            class="text-sm px-4 py-2 rounded-lg transition-all duration-300
         hover:bg-gray-200 dark:hover:bg-white/10
         dark:text-white text-gray-800 flex items-center gap-2"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="lucide lucide-house-icon lucide-house text-red-500 h-5 w-5">
              <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" />
              <path
                d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
            </svg>
            Inicio
          </a>

          <a
            href="#servicios"
            class="text-sm px-4 py-2 rounded-lg transition-all duration-300
         hover:bg-gray-200 dark:hover:bg-white/10
         dark:text-white text-gray-800 flex items-center gap-2"
          >
            <svg xmlns="http://www.w3.org/2000/svg"
                 class="text-emerald-400 w-5 h-5"
                 viewBox="0 -960 960 960"
                 fill="currentColor">
              <path
                d="m352-522 86-87-56-57-44 44-56-56 43-44-45-45-87 87 159 158Zm328 329 87-87-45-45-44 43-56-56 43-44-57-56-86 86 158 159Zm24-567 57 57-57-57ZM290-120H120v-170l175-175L80-680l200-200 216 216 151-152q12-12 27-18t31-6q16 0 31 6t27 18l53 54q12 12 18 27t6 31q0 16-6 30.5T816-647L665-495l215 215L680-80 465-295 290-120Zm-90-80h56l392-391-57-57-391 392v56Zm420-419-29-29 57 57-28-28Z" />
            </svg>
            Servicios
          </a>
          <a
            routerLink="/Materiales"
            routerLinkActive="active"
            class="text-sm px-4 py-2 rounded-lg transition-all duration-300
         hover:bg-gray-200 dark:hover:bg-white/10
         dark:text-white text-gray-800 flex items-center gap-2"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="text-blue-400 w-5 h-5"
                 viewBox="0 -960 960 960"
                 fill="currentColor">>
              <path
                d="M363-280ZM46-160l138-276q10-20 28.5-32t41.5-12q24 0 44 12.5t29 35.5l27 66q2 6 9 5.5t9-6.5l86-287q14-48 53.5-77t89.5-29q49 0 87.5 28.5T742-657l36 104q-15 5-28.5 13T724-520l-14 15-44-127q-8-23-25-35.5T601-680q-23 0-40.5 13T535-631l-86 287q-9 28-32.5 46T363-280q-27 0-50-14.5T280-335l-27-66-118 241H46Zm514 40v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T903-340L683-120H560Zm300-263-37-37 37 37ZM620-180h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19ZM240-560q-50 0-85-35.5T120-680q0-50 35-85t85-35q50 0 85 35t35 85q0 49-35 84.5T240-560Zm0-80q17 0 28.5-11.5T280-680q0-17-11.5-28.5T240-720q-17 0-28.5 11.5T200-680q0 17 11.5 28.5T240-640Zm0-40Z" />
            </svg>

            Materiales
          </a>

          <a
            routerLink="/Tienda"
            routerLinkActive="active"
            class="text-sm px-4 py-2 rounded-lg transition-all duration-300
         hover:bg-gray-200 dark:hover:bg-white/10
         dark:text-white text-gray-800 flex items-center gap-2"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="lucide lucide-store-icon lucide-store text-yellow-400 h-5 w-5"> ">
              <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7" />
              <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8" />
              <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4" />
              <path d="M2 7h20" />
              <path
                d="M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7" />
            </svg>
            Tienda
          </a>
        </div>
      </div>

      <div class="flex space-x-6 items-center dark:text-white">
        <button (click)="toggleTheme()" class="transition-all duration-300 ease-in-out">
          @if (currentTheme() === 'dark') {
            <svg
              id="icon-sun"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-sun-medium transition-transform duration-300 ease-in-out hover:rotate-90"
            >
              <circle cx="12" cy="12" r="4" />
              <path d="M12 3v1" />
              <path d="M12 20v1" />
              <path d="M3 12h1" />
              <path d="M20 12h1" />
              <path d="m18.364 5.636-.707.707" />
              <path d="m6.343 17.657-.707.707" />
              <path d="m5.636 5.636.707.707" />
              <path d="m17.657 17.657.707.707" />
            </svg>
          } @else {
            <svg
              id="icon-moon"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-moon transition-transform duration-300 ease-in-out hover:rotate-45"
            >
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
            </svg>
          }
        </button>

        <button
          (click)="login()"
          class="hover:scale-105 transition ease-in-out"
        >
          Iniciar sesión
        </button>
      </div>
    </div>

  </div>

</nav>
@if (isMobileMenuOpen) {
  <div class="fixed inset-0 z-50 flex">
    <!-- Fondo oscuro accesible -->
    <div
      role="button"
      tabindex="0"
      class="fixed inset-0 bg-black/70 backdrop-blur-sm"
      (click)="closeMobileMenu()"
      (keydown.enter)="closeMobileMenu()"
      (keydown.space)="closeMobileMenu()"
      aria-label="Cerrar menú"
    ></div>

    <!-- Menú lateral -->
    <div
      role="dialog"
      tabindex="0"
      aria-modal="true"
      aria-label="Menú lateral"
      class="relative z-50 w-72 max-w-full bg-white/10 text-white p-6 rounded-r-3xl shadow-2xl backdrop-blur-lg animate-slide-in transition-all"
      (click)="$event.stopPropagation()"
      (keydown.enter)="$event.stopPropagation()"
      (keydown.space)="$event.stopPropagation()"
    >
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-bold tracking-wide">Menú</h2>
        <button
          (click)="closeMobileMenu()"
          (keydown.enter)="closeMobileMenu()"
          (keydown.space)="closeMobileMenu()"
          aria-label="Cerrar menú"
          class="hover:text-red-400 transition"

        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <nav class="flex flex-col gap-4 text-base font-medium">
        <a
          routerLink="/"
          class="flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 transition hover:scale-[1.02]"
          (click)="closeMobileMenu()"
        >

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-house-icon lucide-house text-red-400 h-5 w-5">
            <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" />
            <path
              d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
          </svg>
          Inicio
        </a>

        <a
          href="#servicios"
          class="flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 transition hover:scale-[1.02]"
          (click)="closeMobileMenu()"
        >
          <svg xmlns="http://www.w3.org/2000/svg"
               class="text-emerald-400 w-5 h-5"
               viewBox="0 -960 960 960"
               fill="currentColor">
            <path
              d="m352-522 86-87-56-57-44 44-56-56 43-44-45-45-87 87 159 158Zm328 329 87-87-45-45-44 43-56-56 43-44-57-56-86 86 158 159Zm24-567 57 57-57-57ZM290-120H120v-170l175-175L80-680l200-200 216 216 151-152q12-12 27-18t31-6q16 0 31 6t27 18l53 54q12 12 18 27t6 31q0 16-6 30.5T816-647L665-495l215 215L680-80 465-295 290-120Zm-90-80h56l392-391-57-57-391 392v56Zm420-419-29-29 57 57-28-28Z" />
          </svg>
          Servicios
        </a>
        <!--
                <a
                  routerLink="/Materiales"
                  class="flex items-center gap-3 px-4 py-3 rounded-xl
                 bg-white/5 hover:bg-white/10
                 dark:bg-white/5 dark:hover:bg-white/10
                 transition-all duration-300 ease-in-out hover:scale-[1.02]
                 text-gray-900 dark:text-white"
                  (click)="closeMobileMenu()"
                >-->
        <a
          routerLink="/Materiales"
          class="flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 transition hover:scale-[1.02] "

        >
          <svg xmlns="http://www.w3.org/2000/svg" class="text-blue-400 w-5 h-5"
               viewBox="0 -960 960 960"
               fill="currentColor">>
            <path
              d="M363-280ZM46-160l138-276q10-20 28.5-32t41.5-12q24 0 44 12.5t29 35.5l27 66q2 6 9 5.5t9-6.5l86-287q14-48 53.5-77t89.5-29q49 0 87.5 28.5T742-657l36 104q-15 5-28.5 13T724-520l-14 15-44-127q-8-23-25-35.5T601-680q-23 0-40.5 13T535-631l-86 287q-9 28-32.5 46T363-280q-27 0-50-14.5T280-335l-27-66-118 241H46Zm514 40v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T903-340L683-120H560Zm300-263-37-37 37 37ZM620-180h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19ZM240-560q-50 0-85-35.5T120-680q0-50 35-85t85-35q50 0 85 35t35 85q0 49-35 84.5T240-560Zm0-80q17 0 28.5-11.5T280-680q0-17-11.5-28.5T240-720q-17 0-28.5 11.5T200-680q0 17 11.5 28.5T240-640Zm0-40Z" />
          </svg>

          Materiales
        </a>


        <a
          routerLink="/Tienda"
          class="flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 transition hover:scale-[1.02] "
          (click)="closeMobileMenu()"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-store-icon lucide-store text-yellow-400 h-5 w-5"> ">
            <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7" />
            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8" />
            <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4" />
            <path d="M2 7h20" />
            <path
              d="M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7" />
          </svg>
          Tienda
        </a>
      </nav>
    </div>
  </div>
}
